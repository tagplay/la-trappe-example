<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>La Trappe</title>
  <link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic,900' rel='stylesheet' type='text/css' />
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/assets/style.css" />
</head>
<body>
  <nav id="tagplay-nav">
    <div class="container">
      <a class="navbar-brand" href="https://tagplay.co"><img src="/assets/images/tagplay-logo-2x.png" alt="Tagplay"></a>
      <button class="navbar-toggle"><span class="hamburger-button"></span></button>
      <ul>
        <li><a href="https://tagplay.co/how-it-works">How It Works</a></li>
        <li><a href="https://tagplay.co/pricing">Pricing</a></li>
        <li><a href="https://tagplay.co/login">Log In</a></li>
        <li class="tagplay-signup"><a href="https://tagplay.co/register">Sign up</a></li>
      </ul>
    </div>
  </nav>
  <header id="header">
    <h1>La Trappe</h1>
    <div class="container">
      <nav>
        <ul>
          <li><a href="#menu">Menu</a></li>
          <li><a href="#footer">Contact</a></li>
          <li><a href="#news">News</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <section id="intro">
    <div class="container">
      <div class="row">
        <div class="col-6 offset-3 col-tablet-8 offset-tablet-2 introduction">
          <div class="introduction-text">
            <!-- injected from api -->
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-tablet-8 offset-tablet-2">
          <div class="alternating-images has-2-cols tagplay-widget">
            <div class="tagplay-gallery">
              <div class="tagplay-media-container">
                <div class="tagplay-media">
                  <a href="/assets/images/1.jpg" class="tagplay-media-link" data-full-img="/assets/images/1.jpg"><img class="tagplay-media-object" src="/assets/images/1.jpg" alt=""></a>
                </div>
              </div>
              <div class="tagplay-media-container">
                <div class="tagplay-media">
                  <a href="/assets/images/2.jpg" class="tagplay-media-link" data-full-img="/assets/images/2.jpg"><img class="tagplay-media-object" src="/assets/images/2.jpg" alt=""></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="course-of-the-day">
    <div class="container">
      <div class="row">
        <div class="col-4 offset-2 col-tablet-5 offset-tablet-1 today-text">
          <h2>Course of the Day</h2>
        </div>
        <div class="col-tablet-4">
          <div class="tagplay-widget text-widget">
            <div class="tagplay-gallery">
              <div class="tagplay-media-container today-feed">
                <!-- injected from api -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="map">
    <div class="box-insert">
      <h2>Find Us</h2>

      <div class="address">
        <!-- injected from api -->
      </div>
      <p class="tel"><!-- injected from api --></p>
    </div>
  </section>
  <section id="menu">
    <div class="container">
      <div class="row menu-feed">
        <div class="col-tablet-2">
          <h2>Menu</h2>
        </div>

        <!-- injected from api -->
      </div>
    </div>
  </section>
  <section id="food">
    <div class="container">
      <div class="alternating-images has-4-cols tagplay-widget ugc-food">
        <!-- injected from api -->
      </div>
    </div>
  </section>
  <section id="opening-hours">
    <div class="container">
      <div class="box-insert opening-hours">
        <h2>Opening hours</h2>

        <!-- injected from api -->
      </div>
    </div>
  </section>
  <section id="testimonials">
    <div class="container">
      <div class="tagplay-widget text-widget review-feed">
        <!-- injected from api -->
      </div>
    </div>
  </section>
  <section id="news">
    <div class="container news-feed">
      <!-- injected from api -->
    </div>
  </section>
  <footer id="footer">
    <div class="container">
      <div class="row">
        <div class="col-tablet-3 vcard">
          <h2 class="fn">La Trappe</h2>

          <p class="note">Organic cuisine</p>

          <div class="address">
            <!-- injected from api -->
          </div>

          <p class="tel"><!-- injected from api --></p>

          <p class="email">latrappe@latrappe.com</p>
        </div>
        <div class="col-tablet-3 opening-hours">
          <h3>Opening hours</h3>
          <!-- injected from api -->
        </div>
        <div class="col-tablet-3">
          <h3>Info</h3>

          <dl>
            <dt>Payment methods</dt>
            <dd class="payment-methods"><!-- injected from api --></dd>
            <dt>Parking</dt>
            <dd class="parking"><!-- injected from api --></dd>
          </dl>
        </div>
      </div>
    </div>
  </footer>

  <script src="/assets/bundle.js"></script>

  <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
  <script>
    function makeNewsCarousel() {
      // Simple carousel functionality
      var $newsItems = $("#news .news-item").hide();
      $newsItems.first().show();

      var $newsNav = $('<div class="news-nav"></div>');

      var $prev = $('<a href="#" class="prev">&larr;</a>');
      var $next = $('<a href="#" class="next">&rarr;</a>');

      function navigate(dir) {
        var curIndex = $newsItems.index($("#news .news-item:visible"));
        curIndex = (curIndex + dir) % $newsItems.length;
        $newsItems.hide().eq(curIndex).show();
        $newsNav.children().removeClass("active").eq(curIndex + 1).addClass("active");
      }

      $prev.click(function() { navigate(-1); return false; });
      $next.click(function() { navigate(1); return false; });

      $newsNav.append($prev);

      $newsItems.each(function() {
        var $item = $(this);
        var $navLink = $('<a href="#"></a>');
        $navLink.click(function() {
          $newsItems.hide();
          $item.show();
          $newsNav.children().removeClass("active");
          $(this).addClass("active");
          return false;
        });
        if ($item.is(":visible")) {
          $navLink.addClass("active");
        }
        $newsNav.append($navLink);
      });
      $newsNav.append($next);
      $newsNav.appendTo("#news .container");
    }

    if ($("#news .news-item").length > 0) {
      makeNewsCarousel();
    }

    $("#tagplay-nav .navbar-toggle").on('click', function() {
      $("body").toggleClass("nav-open");
    });

    // TOUR

    function addTourBubble(elem, dir, text) {
      var $elem = $(elem);
      $('<div class="tour-bubble"></div>').addClass(dir).html(text).prepend('<img src="/assets/images/tagplay-logo.png" alt="" class="logo">').appendTo(elem);
      if ($elem.css("position") === 'static') {
        $elem.css("position", "relative");
      }
    }

    addTourBubble('.introduction', 'top', "Update your website using social media. Update the description on your Facebook Page and it automatically updates on your website.");

    addTourBubble('.today-feed', 'left', "Update the meal of the day using Facebook, Twitter or Instagram and the hashtag #mealoftheday on your posts.");

    addTourBubble('.menu-feed', 'top', "Update your menu simply by sending an e-mail to e.g. latrappe1@m.tagplay.co with the subject #menu.");

    addTourBubble('#map .box-insert', 'left', "If you move, just update your location on your Facebook Page and your website updates too.");

    addTourBubble('#food .container', 'top', "Gather user-generated content from Instagram through the hashtag #latrappe. Accept or decline content to show on your website through Tagplay.");

    addTourBubble('#opening-hours .opening-hours', 'left', "Update opening hours by changing them on your Facebook Page, or announce when it's closed with a Facebook status or tweet hashtagged #closedtoday.");

    addTourBubble('#testimonials .container', 'top', "Show customer reviews from Twitter on your website through the hashtag #latrappe. Pick which ones should appear on the site using Tagplay's moderation system.");

    addTourBubble('.news-feed', 'top', "Include a lively news section with news from your Facebook page or Twitter profile using #news on your posts.");

    addTourBubble('#footer .container', 'top', 'Update all the content in the footer by simply changing your Facebook Page information. Your website will update automatically.<div class="tour-buttons"><a href="https://tagplay.co/register" class="signup-button">Sign Up</a> <a href="https://tagplay.co/how-it-works">How It Works</a></div>');

    var $tourBubbles = $(".tour-bubble").hide();

    $(window).on('scroll', function() {
      // Fade tour bubbles in/out as appropriate
      var scrollTop = $(window).scrollTop();
      var windowHeight = $(window).height();
      $tourBubbles.each(function() {
        var $parent = $(this).parent();
        var parentTop = $parent.offset().top;
        if (scrollTop + windowHeight - 50 > parentTop && scrollTop < parentTop + $parent.height()) {
          $(this).fadeIn('fast');
        }
        else {
          $(this).fadeOut('fast');
        }
      });
    });
  </script>
  <script>
    window.intercomSettings = { app_id: 'ykmp5e7t' };
  </script>
  <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/APP_ID';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
</body>
</html>
